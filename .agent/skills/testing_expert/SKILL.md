# Testing Expert Skill

本技能专注于提升项目的自动化测试覆盖率和测试质量，确保代码变更的稳健性。

## 核心守则

### 1. 测试驱动意识 (Test-Driven Logic)
- **同步覆盖**：任何 Service 层的新功能或修复，都应有对应的测试用例。
- **测试路径规范**：测试文件应放在 `tests/` 目录下，并以 `test_` 开头。

### 2. 外部依赖隔离 (Mocking)
- **隔离原则**：禁止在单元测试中发起真实的 API 请求（如访问 OpenAI、股票行情 API）。
- **统一 Mock**：使用 `unittest.mock` 或 `pytest-mock` 对外部服务进行模拟，并验证调用参数。

### 3. 稳健性验证 (Robustness)
- **错误路径测试**：除了正常流程 (Happy Path)，必须测试异常流程（输入非法参数、网络连接超时、权限不足）。

## 审计工作流
当被要求“根据测试专家技能审计代码”时：
1. 分析现有逻辑中哪些分支（if/else/try-except）未被现有测试覆盖。
2. 识别代码中难以测试的部分（过度的全局依赖、硬编码等），并建议进行可测试性重构。
3. 自动生成符合项目规范的测试用例模板。
